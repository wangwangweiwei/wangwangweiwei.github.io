(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{355:function(t,a,s){"use strict";s.r(a);var e=s(7),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("由于深度学习需要跑实验，自己的笔记本肯定是配置是不行的。实验室有服务器但是由于口罩原因，没有安排好远程登录的事情。所以跑实验真的是举步维艰。只是小编租不起服务器，所以就想到了白嫖kaggle，本文主要梳理一下我是怎么配置kaggle跑项目的。如果你有实力租服务器就请移步啦！")]),t._v(" "),a("h3",{attrs:{id:"_1、项目打包上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、项目打包上传"}},[t._v("#")]),t._v(" 1、项目打包上传")]),t._v(" "),a("p",[t._v("假设你有如下项目要运行")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wangwangweiwei/MyPictureBed@master/blog_image/kaggle01.3ls8ckxkcl60.webp",alt:""}})]),t._v(" "),a("p",[t._v("打包后")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wangwangweiwei/MyPictureBed@master/blog_image/kaggle02.1o1sklw0i874.webp",alt:""}})]),t._v(" "),a("p",[t._v("新建DataSet上传你的项目，后面项目修改后你可以在dataset中通过点击new version来更新你的代码，是不是很方便。")]),t._v(" "),a("h3",{attrs:{id:"_2、运行项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、运行项目"}},[t._v("#")]),t._v(" 2、运行项目")]),t._v(" "),a("h4",{attrs:{id:"_2-1-导入上传的项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-导入上传的项目"}},[t._v("#")]),t._v(" 2.1 导入上传的项目")]),t._v(" "),a("p",[t._v("如上图所示点击code，新建一个notebook，最右侧点击Add Data把项目添加进来就行了。最后你可以看见如下图所示2的位置看见你的项目。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wangwangweiwei/MyPictureBed@master/blog_image/kaggle03.5789rqx6i6k0.webp",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_2-2-怎么运行项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-怎么运行项目"}},[t._v("#")]),t._v(" 2.2 怎么运行项目")]),t._v(" "),a("p",[t._v("这个问题我走了不少弯路，开始是把Input目录添加到当前notebook的sys.path中，在import模块但是都报No module named 'xxx'。后来找到了另外一个方法就是将上传的文件copy到工作目录'/kaggle/working/'下即可。具体是什么原理可以参考"),a("a",{attrs:{href:"https://blog.csdn.net/cj151525/article/details/123062408",target:"_blank",rel:"noopener noreferrer"}},[t._v("Kaggle 导入自定义函数库"),a("OutboundLink")],1),t._v("  中开始的讲解。当然不想深入了解我们也可以继续看看我是怎么跑起来。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v('首先我们通过如下代码把项目需要运行的代码复制的"/kaggle/working"下。注数据文件可以不用移动。')]),t._v(" "),a("div",{staticClass:"language-Python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# import module we'll need to import our custom module")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" shutil "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" copyfile\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# copy our file into the working directory (make sure it has .py suffix)")]),t._v("\ncopyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/kaggle/input/xxx/xxx/xxx.py"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dst "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/kaggle/working/xxx.py"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("后面你就可以通过import命令运行的的项目了。")])])]),t._v(" "),a("p",[t._v("当然我还有一个问题就是怎么同时能够通过命令行运行项目，也能在kaggle这种jupyter中运行我们的项目那。由于jupyter不支持命令行传参所以我的解决方法是：")]),t._v(" "),a("ol",[a("li",[t._v("对应命令行的不传递参数：\n在你的parser.add_argument里写好default。找到代码里的parser.parse_args()（command+f），改成parser.parse_args([])。如果还不行找找代码里是不是还有parser.parse_known_args()，把它改成parser.parse_known_args([])。")]),t._v(" "),a("li",[t._v("把运行的相关拷贝到jupyter的cell中就可以直接运行啦。")])]),t._v(" "),a("p",[t._v("这样就在jupyter中也能比较少的修改代码跑模型了。")]),t._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("通过小编这几天的运行，这样跑模型还是比较麻烦的，但不是没办法嘛，后面小编有更好的方法，会继续更新的啦，如果您有更好的方法，欢迎留言！")])])}),[],!1,null,null,null);a.default=r.exports}}]);